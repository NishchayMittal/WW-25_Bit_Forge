:root {
            --color-darkest-abyss: #00020A;
            --color-deep-ocean-blue: #000A1F;
            --color-abyssal-gradient-start: #00030E;
            --color-abyssal-gradient-mid: #001530;
            --color-abyssal-gradient-end: #002C5A;

            --color-light-glow-primary: #00E6E6; /* Bright Aqua */
            --color-light-glow-secondary: #00BFFF; /* Deep Sky Blue */
            --color-light-glow-tertiary: #40E0D0; /* Turquoise */
            --color-text-primary: #E0FFFF; /* Light Cyan */
            --color-text-secondary: #A9D9D9; /* Lighter Cyan */
            --color-text-accent: #66CCFF; /* Sky Blue */

            --color-card-bg-dark: rgba(2, 10, 20, 0.95); /* Opaque for active card */
            --color-card-border-glow: rgba(0, 195, 255, 0.15);
            --color-card-shadow-dark: rgba(0, 195, 255, 0.08);

            --z-index-background: -10;
            --z-index-particles: -5;
            --z-index-line: 0;
            --z-index-inactive-card-low: 1; /* Lowest Z for fully inactive */
            --z-index-inactive-card-mid: 5; /* Slightly higher for transition */
            --z-index-active-card: 10;
            --z-index-nav-controls: 20;
            --z-index-modal-overlay: 100;
            --z-index-modal-content: 110;

            --transition-duration-lg: 1.2s; /* For active/inactive wrapper transitions */
            --transition-duration-md: 0.8s; /* For modal, and internal content fades */
            --transition-duration-sm: 0.4s; /* For quick element changes */
            --transition-ease-out: cubic-bezier(0.2, 0.8, 0.2, 1); /* Standard smooth ease-out */
            --transition-smooth-pop: cubic-bezier(0.68, -0.55, 0.27, 1.55); /* For bouncy modal pop */

            --card-width-desktop: 70%;
            --card-max-width-desktop: 1000px;
            --card-padding-desktop: 40px;
            --line-offset-desktop: 10%;

            /* Responsive Adjustments */
            @media (max-width: 1200px) {
                --card-width-desktop: 75%;
            }
            @media (max-width: 768px) {
                --card-width-desktop: 90%;
                --card-padding-desktop: 25px;
                --line-offset-desktop: 5%;
            }
        }

        /* --- Base & Global Resets --- */
        html {
            scroll-behavior: smooth; /* For programmatic scrolls (e.g., direct year jump) */
        }

        body {
            margin: 0;
            font-family: 'Montserrat', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-smoothing: grayscale;
            
            /* Enhanced Layered Background */
            background: 
                linear-gradient(180deg, var(--color-abyssal-gradient-start) 0%, var(--color-abyssal-gradient-mid) 50%, var(--color-abyssal-gradient-end) 100%),
                radial-gradient(circle at 20% 30%, rgba(0, 60, 120, 0.15) 0%, transparent 50%), /* Top-left subtle light source */
                radial-gradient(circle at 80% 70%, rgba(0, 30, 60, 0.15) 0%, transparent 50%), /* Bottom-right subtle light source */
                url('data:image/svg+xml,<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"><path d="M0,100 C25,115 50,85 75,100 C100,115 125,85 150,100 C175,115 200,85 200,100" stroke="rgba(255,255,255,0.03)" fill="none" stroke-width="0.7px"/></svg>') repeat-x center bottom / 500px 250px, /* More complex wavy texture */
                url('data:image/svg+xml,<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"><circle cx="100" cy="100" r="50" fill="rgba(0,0,0,0.05)"/></svg>') repeat center center / 100px 100px; /* Subtle dark circular pattern for texture */
            background-size: cover, cover, cover, 500px 250px, 100px 100px;
            background-attachment: fixed;
            background-blend-mode: normal, lighten, lighten, overlay, multiply; /* Sophisticated blending */
            
            color: var(--color-text-primary);
            overflow: hidden; /* Crucial: Prevents native scrolling */
            height: 100vh; /* Ensures body is full viewport height for app container */
            position: relative; /* For particle effect z-index context */
        }

        /* --- Bioluminescent Particle Effect --- */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            background: 
                radial-gradient(circle at 15% 25%, rgba(255, 255, 255, 0.06) 1px, transparent 1px),
                radial-gradient(circle at 85% 75%, rgba(255, 255, 255, 0.06) 1px, transparent 1px),
                radial-gradient(circle at 45% 55%, rgba(255, 255, 255, 0.06) 1px, transparent 1px),
                radial-gradient(circle at 65% 15%, rgba(255, 255, 255, 0.06) 1px, transparent 1px);
            background-size: 180px 180px, 120px 120px, 200px 200px, 150px 150px; /* Varied sizes */
            animation: floatParticles 25s infinite ease-in-out alternate; /* Slower, smoother, alternate direction */
            z-index: var(--z-index-particles);
        }

        @keyframes floatParticles {
            0% { background-position: 0% 0%, 100% 100%, 50% 50%, 0% 100%; }
            100% { background-position: 100% 100%, 0% 0%, 100% 50%, 50% 0%; }
        }

        /* --- Main Timeline Application Container --- */
        .timeline-app {
            position: relative;
            width: 100vw;
            height: 100vh;
            overflow: hidden; /* Essential: Hides inactive cards outside viewport */
            perspective: 1800px; /* Deeper 3D perspective */
            display: flex;
            align-items: center;
            justify-content: center;
            will-change: transform; /* Hint for browser performance */
        }

        /* --- Timeline Vertical Line --- */
        .timeline-line {
            position: fixed; /* Stays fixed relative to viewport */
            left: var(--line-offset-desktop);
            top: 0;
            bottom: 0;
            width: 2px;
            background-color: rgba(255, 255, 255, 0.15); /* Slightly more subtle */
            z-index: var(--z-index-line);
            box-shadow: 0 0 12px rgba(0, 255, 255, 0.1);
        }

        /* --- Individual Timeline Event Wrapper (The "Slide") --- */
        .timeline-event-wrapper {
            position: absolute; /* Stacked within timeline-app */
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex; /* Always flex to maintain layout, but opacity/pointer-events hide it */
            align-items: center; 
            justify-content: center; 
            padding: 0 40px; /* Horizontal padding for content */
            transform-style: preserve-3d;
            
            /* Initial state for ALL cards - fully transparent and scaled down */
            opacity: 0;
            transform: scale(0.8); /* Starts scaled down, ready to animate in */
            transition: opacity var(--transition-duration-lg) var(--transition-ease-out), 
                        transform var(--transition-duration-lg) var(--transition-ease-out);
            
            /* Make inactive cards non-interactive and send to background */
            pointer-events: none;
            z-index: var(--z-index-inactive-card); 
        }

        /* Active Card State - Controls the "show" animation */
        .timeline-event-wrapper.active {
            opacity: 1;
            transform: scale(1); /* Animate to full size */
            pointer-events: auto; /* Enable interaction only for active card */
            z-index: var(--z-index-active-card); /* Highest z-index for active */
        }
        
        /* --- Content Layout within the Wrapper --- */
        .timeline-content-area {
            display: flex;
            width: var(--card-width-desktop);
            max-width: var(--card-max-width-desktop);
            margin: 0 auto;
            transform-style: preserve-3d;
            align-items: flex-start; /* Align bullet point/card to top of its area */
        }

        /* --- Year Marker (The Glowing Orb) --- */
        .year-marker-container {
            flex-shrink: 0;
            width: calc(var(--line-offset-desktop) + 40px); /* Space adjusted for line positioning */
            display: flex;
            justify-content: flex-end;
            padding-right: 25px; /* More space to the card */
            position: relative;
            left: calc(-1 * var(--line-offset-desktop)); /* Pull marker over the line */
            align-items: flex-start; /* Align marker to top of content area */
            padding-top: 15px; /* Offset from top of card */
            pointer-events: none; /* Marker is not clickable directly */
            z-index: var(--z-index-active-card) + 1; /* Always above the active card content */
            
        }

        .year-marker {
            width: 32px; /* Larger orb */
            height: 32px;
            border-radius: 50%;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.4);
            transition: transform var(--transition-duration-sm) var(--transition-ease-out), 
                        box-shadow var(--transition-duration-sm) var(--transition-ease-out);
            display: flex;
            align-items: center;
            justify-content: center;

            background: conic-gradient(from 0deg, var(--color-light-glow-primary), var(--color-light-glow-secondary), var(--color-light-glow-primary));
            animation: rotateGlow 6s linear infinite; /* Slower, smoother rotation */
            flex-shrink: 0;
            will-change: transform, box-shadow;
        }

        .year-marker::after {
            content: '';
            position: absolute;
            inset: 5px; /* Thicker glowing border */
            background: white;
            border-radius: 50%;
            box-shadow: inset 0 0 12px rgba(0, 0, 0, 0.7); /* Stronger inner shadow for depth */
        }

        @keyframes rotateGlow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* Active bullet point */
        .timeline-event-wrapper.active .year-marker {
            transform: scale(1.7); /* More prominent pop */
            box-shadow: 
                0 0 40px 20px var(--color-aqua-glow), 
                0 0 80px 40px rgba(0, 255, 255, 0.5); /* Stronger outer glow */
            animation-duration: 3s; /* Faster rotation when active */
        }

        /* --- Event Details Card --- */
        .event-details {
            flex-grow: 1;
            /* Ensure the background is fully opaque when active to cover elements behind */
            background: var(--color-card-bg-dark); 
            backdrop-filter: blur(25px) brightness(0.6); /* Even stronger blur, darker base */
            border: 1px solid var(--color-card-border-glow);
            box-shadow: 
                0 0 35px var(--color-card-shadow-dark),
                inset 0 0 35px rgba(0, 195, 255, 0.08);
            padding: var(--card-padding-desktop);
            border-radius: 20px; /* More rounded */
            position: relative;
            cursor: pointer;
            transform-style: preserve-3d;
            will-change: transform, opacity, background;
            height: auto;
            min-height: 400px; /* Ensure a minimum height for visual consistency */
            display: flex;
            flex-direction: column;
            justify-content: space-between; /* Push year text to bottom of flex space */
            
            /* No transitions here, they are on the parent .timeline-event-wrapper */
        }

        /* Active state for content - ensure full opacity and covering ability */
        .timeline-event-wrapper.active .event-details {
            border-color: rgba(0, 195, 255, 0.5);
            box-shadow: 
                0 0 80px rgba(0, 195, 255, 0.4), /* More prominent glow */
                inset 0 0 80px rgba(0, 195, 255, 0.2);
            /* The opacity/transform animation is on the .timeline-event-wrapper.active itself */
            background: var(--color-card-bg-dark); /* Explicitly set opaque background if it's RGBa */
            z-index: 2; /* Ensure it's above the line within its flex container */
        }

        /* Hover effect for cards */
        .event-details:hover {
            background: rgba(5, 20, 40, 0.98); /* Even more opaque on hover */
            border-color: var(--color-light-glow-primary);
            box-shadow: 
                0 0 60px var(--color-aqua-glow),
                inset 0 0 60px rgba(0, 255, 255, 0.3);
            transform: translateZ(20px) scale(1.02); /* More pronounced scale and Z-axis lift */
            transition: background var(--transition-duration-sm) ease, border-color var(--transition-duration-sm) ease, 
                        box-shadow var(--transition-duration-sm) ease, transform var(--transition-duration-sm) var(--transition-ease-out);
        }

        /* Inner Glow on Hover (Subtle bioluminescent effect) */
        .event-details::before {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 16px;
            background: radial-gradient(circle at center, rgba(0, 255, 255, 0.05) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.5s ease;
            pointer-events: none;
            z-index: -1;
        }
        .event-details:hover::before {
            opacity: 1;
        }

        /* --- Text Styling --- */
        .event-details h3 {
            background: linear-gradient(120deg, var(--color-light-glow-primary), var(--color-light-glow-secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-size: 2.8em; /* Even larger, more impactful */
            letter-spacing: 1px;
            margin-top: 0;
            margin-bottom: 25px;
            text-shadow: 0 0 12px rgba(0, 255, 255, 0.8); /* Stronger glow */
            font-weight: 800; /* Bolder */
            line-height: 1.2;
            will-change: filter;
            animation: textGlowPulse 5s infinite alternate; /* Subtle breathing glow */
        }
        @keyframes textGlowPulse {
            0%, 100% { filter: drop-shadow(0 0 5px rgba(0, 255, 255, 0.4)); }
            50% { filter: drop-shadow(0 0 10px rgba(0, 255, 255, 0.8)); }
        }

        .event-details p {
            line-height: 1.9;
            margin-bottom: 25px;
            font-size: 1.25em; /* Larger, easier to read */
            color: var(--color-text-light);
            text-align: justify; /* Justify text for professional look */
        }

        /* Subtle Scanline/Glitch Effect for Text */
        .event-details h3::after, .event-details p::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            background: repeating-linear-gradient(
                transparent, transparent 1px, 
                rgba(0, 255, 255, 0.03) 1px, rgba(0, 255, 255, 0.03) 2px
            );
            mix-blend-mode: overlay;
            opacity: 0;
            animation: scanlineFadeIn 0.8s forwards; /* Fades in with the card */
        }
        @keyframes scanlineFadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .event-details ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .event-details ul li {
            margin-bottom: 15px;
            padding-left: 35px; /* More space for icon */
            position: relative;
            font-size: 1.15em;
            color: var(--color-text-secondary);
            line-height: 1.4;
        }

        .event-details ul li::before {
            content: 'ðŸŒŠ';
            position: absolute;
            left: 0;
            color: var(--color-turquoise);
            font-size: 1.3em;
            top: 2px;
            text-shadow: 0 0 5px var(--color-turquoise);
        }

        .event-details .year-text {
            font-family: 'Roboto Mono', monospace;
            font-size: 1.5em; /* Larger year text */
            font-weight: 400; /* Slightly bolder */
            color: var(--color-light-glow-primary);
            margin-bottom: 20px;
            text-align: right;
            text-shadow: 0 0 10px rgba(0, 255, 255, 0.6); /* Stronger glow */
            letter-spacing: 1px;
        }

        /* Read More Indicator */
        .read-more-indicator {
            font-size: 1.1em; /* Slightly larger */
            color: var(--color-text-accent);
            text-align: right;
            margin-top: 20px; /* More space */
            opacity: 0.9;
            transition: opacity 0.3s ease, color 0.3s ease;
            display: flex; /* Flex to align icon */
            align-items: center;
            justify-content: flex-end;
            gap: 5px; /* Space between text and icon */
        }
        .read-more-indicator:hover {
            opacity: 1;
            color: white;
            text-shadow: 0 0 8px white;
        }
        .read-more-indicator i {
            margin-left: 0; /* No margin as gap handles it */
            font-size: 0.9em; /* Smaller icon relative to text */
        }

        /* --- Navigation Arrows --- */
        .scroll-arrow {
            position: fixed;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 20, 40, 0.7);
            border: 1px solid rgba(0, 195, 255, 0.3);
            border-radius: 50%;
            width: 55px; /* Slightly larger */
            height: 55px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: var(--z-index-nav-controls);
            transition: background var(--transition-duration-sm) ease, border-color var(--transition-duration-sm) ease, 
                        box-shadow var(--transition-duration-sm) ease, transform var(--transition-duration-sm) var(--transition-ease-out);
            box-shadow: 0 0 18px rgba(0, 255, 255, 0.25);
            color: var(--color-cyan-bright);
            font-size: 2.5em; /* Larger icons */
            text-shadow: 0 0 12px rgba(0, 255, 255, 0.6);
            line-height: 1;
        }

        .scroll-arrow:hover {
            background: rgba(0, 30, 60, 0.95);
            border-color: var(--color-light-glow-primary);
            box-shadow: 0 0 40px var(--color-aqua-glow);
            /* Transform adjusted to account for initial translateX(-50%) */
        }

        .scroll-arrow.up {
            top: 40px; /* More offset from top */
        }

        .scroll-arrow.down {
            bottom: 40px; /* More offset from bottom */
        }

        .scroll-arrow.up:hover {
            transform: translateX(-50%) translateY(-8px); /* More vertical hover effect */
        }
        .scroll-arrow.down:hover {
            transform: translateX(-50%) translateY(8px); /* More vertical hover effect */
        }
        .scroll-arrow.disabled {
            opacity: 0.2; /* More faded when disabled */
            cursor: not-allowed;
            box-shadow: none;
            transform: translateX(-50%) !important; /* Override hover transform */
        }

        /* --- Year Indicator --- */
        .year-indicator {
            position: fixed;
            bottom: 120px; /* Positioned above the down arrow */
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 20, 40, 0.75);
            padding: 12px 25px; /* More padding */
            border-radius: 25px; /* More rounded */
            font-family: 'Roboto Mono', monospace;
            font-size: 1.2em; /* Slightly larger */
            color: var(--color-light-glow-primary);
            border: 1px solid rgba(0, 195, 255, 0.3);
            box-shadow: 0 0 25px rgba(0, 255, 255, 0.3);
            z-index: var(--z-index-nav-controls);
            user-select: none;
            transition: all var(--transition-duration-sm) ease;
            letter-spacing: 0.5px;
        }

        /* --- Direct Year Navigation (Dropdown) --- */
        .year-select-container {
            position: fixed;
            top: 40px; /* Aligned with up arrow */
            right: 40px; /* Offset from right */
            z-index: var(--z-index-nav-controls);
        }

        .year-select {
            background: rgba(0, 20, 40, 0.75);
            border: 1px solid rgba(0, 195, 255, 0.3);
            border-radius: 10px; /* More rounded */
            padding: 12px 20px; /* More padding */
            color: var(--color-light-glow-primary);
            font-family: 'Roboto Mono', monospace;
            font-size: 1.15em;
            outline: none;
            cursor: pointer;
            box-shadow: 0 0 18px rgba(0, 255, 255, 0.25);
            appearance: none; /* Remove default arrow */
            background-image: url('data:image/svg+xml;utf8,<svg fill="%2300FFFF" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/></svg>');
            background-repeat: no-repeat;
            background-position: right 15px center; /* Adjust arrow position */
            background-size: 20px; /* Larger arrow */
            transition: all var(--transition-duration-sm) ease;
        }

        .year-select:focus, .year-select:hover {
            border-color: var(--color-light-glow-primary);
            box-shadow: 0 0 40px var(--color-aqua-glow);
        }

        .year-select option {
            background-color: var(--color-deep-ocean-blue);
            color: var(--color-text-primary);
            padding: 8px; /* More padding for options */
        }
        
        /* --- Modal for Detailed View --- */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9); /* Even darker overlay */
            backdrop-filter: blur(20px) brightness(0.6); /* Stronger blur for deep focus */
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: var(--z-index-modal-overlay);
            opacity: 0;
            visibility: hidden;
            transition: opacity var(--transition-duration-md) ease, visibility 0s var(--transition-duration-md);
        }

        .modal.open {
            opacity: 1;
            visibility: visible;
            transition: opacity var(--transition-duration-md) ease;
        }

        .modal-content {
            background: var(--color-card-bg-dark);
            border: 1px solid rgba(0, 255, 255, 0.4); /* Stronger modal border */
            border-radius: 20px;
            padding: 50px; /* More padding in modal */
            max-width: 85%; /* Wider modal */
            max-height: 90vh; /* Taller modal */
            overflow-y: auto;
            position: relative;
            box-shadow: 0 0 100px rgba(0, 255, 255, 0.6), inset 0 0 100px rgba(0, 255, 255, 0.3); /* Stronger modal glow */
            transform: scale(0.7) translateY(100px); /* More dramatic entrance */
            opacity: 0;
            transition: transform var(--transition-duration-md) var(--transition-smooth-pop), opacity var(--transition-duration-md) ease;
        }

        .modal.open .modal-content {
            transform: scale(1) translateY(0);
            opacity: 1;
        }

        .modal-close-btn {
            position: absolute;
            top: 25px;
            right: 25px;
            background: none;
            border: none;
            color: var(--color-light-glow-primary);
            font-size: 2.5em; /* Larger close button */
            cursor: pointer;
            transition: color 0.3s ease, transform 0.3s ease;
            text-shadow: 0 0 12px rgba(0, 255, 255, 0.6);
            line-height: 1;
        }

        .modal-close-btn:hover {
            color: white;
            transform: rotate(90deg) scale(1.2); /* More dynamic hover */
            text-shadow: 0 0 15px white;
        }

        .modal-content h3 {
            font-size: 3.5em; /* Larger title in modal */
            margin-bottom: 30px;
        }
        .modal-content p {
            font-size: 1.4em; /* Larger text in modal */
            line-height: 2; /* More generous line height */
        }
        .modal-content ul li {
            font-size: 1.3em;
            margin-bottom: 18px;
        }

        /* --- Scrollbar styles (Webkit) --- */
        ::-webkit-scrollbar {
            width: 12px; /* Thicker scrollbar */
        }

        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(0, 255, 255, 0.4); /* Brighter thumb */
            border-radius: 10px;
            border: 1px solid rgba(0, 255, 255, 0.2); /* Subtle border */
            transition: background 0.3s ease;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(0, 255, 255, 0.8); /* Even brighter on hover */
        }